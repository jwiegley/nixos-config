groups:
  - name: paperless-ai
    interval: 30s
    rules:
      - alert: PaperlessAIDown
        expr: paperless_ai_up == 0
        for: 5m
        labels:
          severity: critical
          component: paperless-ai
        annotations:
          summary: "Paperless-AI service is down"
          description: "Paperless-AI service at http://127.0.0.1:3001 has been unresponsive for more than 5 minutes"

      - alert: PaperlessAIServiceInactive
        expr: paperless_ai_service_active == 0
        for: 2m
        labels:
          severity: critical
          component: paperless-ai
        annotations:
          summary: "Paperless-AI service is not active"
          description: "The paperless-ai systemd service is not active"

      - alert: PaperlessAIUnhealthy
        expr: paperless_ai_http_response_code != 200 and paperless_ai_http_response_code != 302
        for: 5m
        labels:
          severity: warning
          component: paperless-ai
        annotations:
          summary: "Paperless-AI service responding with errors"
          description: "Paperless-AI is returning HTTP {{ $value }} instead of 200/302"
